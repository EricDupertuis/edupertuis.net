<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Encryption of private data with EncFS | Edupertuis.net</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js" integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body);
        });
    </script>

<header>

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <nav>
    <div class="container">
      <ul>
        
        
        <li class="pull-left ">
          <a href="/">~/edupertuis.net</a>
        </li>
        
        
        <li class="pull-left ">
          <a href="/about">~/about</a>
        </li>
        
        
        <li class="pull-left ">
          <a href="/projects">~/projects</a>
        </li>
        
        
        <li class="pull-left ">
          <a href="/contact">~/contact</a>
        </li>
        

        
        
        <li class="pull-right">
          <a href="/index.xml">~/rss</a>
        </li>
        
        
        <li class="pull-right">
          <a href="/categories/">~/categories</a>
        </li>
        

      </ul>
    </div>
  </nav>
</header>

<div class="container">
  </head>

  <body>
    <br/>

<div class="article-meta">
<h1><span class="title">Encryption of private data with EncFS</span></h1>
<h3 class="date">Sunday, Oct 18, 2015</h2>
<p class="terms">
  
  
  Categories: <a href="/categories/encryption">Encryption</a> 
  
  
  
  Tags: <a href="/tags/encryption">encryption</a> <a href="/tags/linux">linux</a> 
  
  
</p>
<hr/>
</div>



<main>


<h2 id="what-s-encfs">What&rsquo;s EncFS ?</h2>

<p>Let&rsquo;s hear it from the mouth of <a href="http://wikipedia.org">Wikipedia</a></p>

<pre><code>EncFS is a Free (LGPL) FUSE-based cryptographic filesystem. It transparently encrypts files, using an arbitrary directory as storage for the encrypted files.
</code></pre>

<p>So what does EncFS do ? It simply takes a base directory that&rsquo;s encrypted using a key and mounts a virtual filesystem on another folder.</p>

<h2 id="why-would-you-use-it">Why would you use it ?</h2>

<p>I personally use EncFS to protect some private data on my external hard drives. In case one of my hard drive is stolen, all sensitives informations are safely encrypted.
One of the advantage is that you can encrypt different folders using different passwords</p>

<p>EncFS isn&rsquo;t made for full-disk encryption, if that&rsquo;s what you&rsquo;re looking for, you should take a look at <a href="http://askubuntu.com/questions/366749/enable-disk-encryption-after-installation">this thread</a> from the Ubuntu forum.</p>

<h2 id="initial-setup">Initial setup</h2>

<p>You will need to install EncFS on your system :</p>

<p>For Ubuntu and Debian:</p>

<pre><code>sudo apt-get install encfs
</code></pre>

<p>If you use an older version of Ubuntu (&lt; 14.04) you must also install <code>fuse-utils</code></p>

<pre><code>sudo apt-get install fuse-utils
</code></pre>

<p>If you&rsquo;re using Fedora:</p>

<pre><code>su
yum install fuse-encfs
</code></pre>

<p>For ArchLinux</p>

<pre><code>pacman -S encfs
</code></pre>

<p>If you&rsquo;re using another system, just google it.</p>

<h2 id="creating-a-first-encrypted-folder">Creating a first encrypted folder</h2>

<p>Using EncFS is really ease. Let&rsquo;s assume you have an external drive mounted on <code>/media/user/HDD1</code> with a <code>private</code> folder in it.
the encfs command takes two arguments, the path of the encrypted folder and the path of the folder on which you&rsquo;d like to mount the virtual filesystem</p>

<pre><code>encfs /media/user/HDD1/private ~/private
</code></pre>

<p>If any of these folders doesn&rsquo;t exist, EncFS will ask you if it can be created.</p>

<pre><code>The directory &quot;/media/user/HDD/private/&quot; does not exist. Should it be created? (y,n) y
The directory &quot;/home/user/private&quot; does not exist. Should it be created? (y,n) y
</code></pre>

<p>Just answer yes</p>

<p>After that, it will ask you to choose two configuration mode, expert or pre-configured</p>

<pre><code>Creating new encrypted volume.
Please choose from one of the following options:
 enter &quot;x&quot; for expert configuration mode,
 enter &quot;p&quot; for pre-configured paranoia mode,
 anything else, or an empty line will select standard mode.
?&gt;
</code></pre>

<p>The x mode allow you to select the algorithm (AES or Blowfish), key size, filesystem block size etc&hellip; Use this option if you know what you&rsquo;re doing. The p mode (or paranoia mode) gives you good pre-configured options.</p>

<p>EncFS will ask you for your password twice. Make sure to use a strong password. Remember that a long phrase is better than 5 random characters.</p>

<p>And everything is good to go, now you just need to put the files you whish to protect in the <code>private</code> folder of your home directory. All the files you put in there will automatically be encrypted in the first folder you specified.</p>

<h2 id="unmount-your-encrypted-folder">Unmount your encrypted folder</h2>

<p>Once you&rsquo;re done and want to unmount the filesystem, just type :</p>

<pre><code>fusermount -u /home/user/private
</code></pre>

<p>And that&rsquo;s all, if you want to mount the filesystem again, just relaunch the original command</p>

<pre><code>encfs /media/user/HDD1/private ~/private
</code></pre>

<p>The folders already exist so it will only ask for your password. You just need the encrypted folder and if you&rsquo;d like, you could mount it on whatever folder you want.</p>

<h2 id="pros-and-cons">Pros and cons</h2>

<h3 id="pros">Pros</h3>

<ul>
<li>Really easy to use</li>
<li>FUSE is integrated in the Linux Kernel</li>
<li>Works on most filesystems (even NTFS)</li>
<li>You can make this works on Windows using <a href="http://members.ferrara.linux.it/freddy77/encfs.html">encfs4win</a></li>
</ul>

<h3 id="cons">Cons</h3>

<ul>
<li>You can still see the rights, size and number of files in the encrypted folder (names are encrypted though)</li>
<li>The virtual filesystem has the same limitations as the host filesystem.</li>
</ul>

</main>

      <footer>
        
<script>
(function() {
  function center_el(tagName) {
    var tags = document.getElementsByTagName(tagName), i, tag;
    for (i = 0; i < tags.length; i++) {
      tag = tags[i];
      var parent = tag.parentElement;
      
      if (parent.childNodes.length === 1) {
        
        if (parent.nodeName === 'A') {
          parent = parent.parentElement;
          if (parent.childNodes.length != 1) continue;
        }
        if (parent.nodeName === 'P') parent.style.textAlign = 'center';
      }
    }
  }
  var tagNames = ['img', 'embed', 'object'];
  for (var i = 0; i < tagNames.length; i++) {
    center_el(tagNames[i]);
  }
})();
</script>

        
        <hr/>
        <a href="https://github.com/EricDupertuis">Github</a> | <a href="https://twitter.com/dupertuiseric">Twitter</a> | <a href="mailto:contact@edupertuis.net">Email</a>
        
      </footer>
    </div>
  </body>
</html>

